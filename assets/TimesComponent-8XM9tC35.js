import{_ as S,k as _,l as k,r as w,o as B,p as I,w as L,u as T,b as u,q as p,a as q}from"./app-8XZEKnb-.js";import{l as b,i as C,F as f}from"./index.es-DOXP2R1K.js";const M={__name:"TimesComponent",setup(E,{expose:h}){h(),b.add(C);const r=_(!1);function l(){const e=new Date,n=("0"+e.getHours()).slice(-2),t=("0"+e.getMinutes()).slice(-2),o=("0"+e.getSeconds()).slice(-2),s=`${n}:${t}:${o}`,i={year:"numeric",month:"long",day:"numeric",weekday:"long"},c=e.toLocaleDateString("zh-CN",i),m=document.getElementById("currentTime"),g=document.getElementById("currentDate");m&&g&&(m.innerHTML=s,g.innerHTML=c,setTimeout(l,1e3))}const y=()=>{const e=document.querySelector(".vp-blog-hero-image"),n=document.querySelector(".vp-blog-hero-title"),t=document.querySelector(".vp-blog-hero-description"),o=document.querySelector(".component-times"),s=document.querySelector(".component-button");if(r.value)e&&(e.style.display=""),n&&(n.style.display=""),t&&(t.style.display=""),s&&(s.style.display=""),o&&o.remove();else if(e&&(e.style.display="none"),n&&(n.style.display="none"),t&&(t.style.display="none"),s&&(s.style.display="none"),!o){const i=document.createElement("div");i.className="component-times",i.innerHTML=`
            <div id="currentTime"></div>
            <div id="currentDate"></div>
            <div class="hitokoto-content">
                <div class="Btn-out">
                    <div id="hitokotoBtn"></div>
                </div>
                <div class="hitokoto-out">
                    <span class="point">[ </span><span id="hitokoto"></span><span class="point"> ]</span>
                </div>
                <div class="author-content">
                    —— <span id="author"></span> ——
                </div>
            </div>
            `,document.querySelector(".vp-blog-mask").appendChild(i),l(),d();const c=document.getElementById("hitokotoBtn");c.addEventListener("click",()=>{c.classList.add("rotate"),d(),setTimeout(()=>{c.classList.remove("rotate")},500)});const m=u(f,{icon:["fas","rotate"]});p(m,c)}r.value=!r.value},d=()=>{fetch("https://tenapi.cn/v2/yiyan",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"format=json"}).then(e=>e.json()).then(e=>{if(e&&e.data){const n=document.getElementById("hitokoto"),t=document.getElementById("author");n&&t&&(n.innerHTML=e.data.hitokoto,t.innerHTML=e.data.author)}}).catch(e=>{console.error("Error fetching hitokoto:",e)})},a=()=>{(()=>{const t=document.querySelector(".vp-blog-mask");if(t&&!document.querySelector(".component-button1")){const o=document.createElement("div");o.className="component-button1";const s=u(f,{icon:["fas","fa-clock"]});p(s,o),o.addEventListener("click",()=>{y();const i=r.value?["fas","fa-xmark"]:["fas","fa-clock"],c=u(f,{icon:i});p(c,o)}),t.appendChild(o)}})(),T().beforeEach(()=>{setTimeout(()=>{a()},50)})};k(a);const v={isToggled:r,showTime:l,toggleElements:y,fetchHitokoto:d,insertComponentTimes:a,onMounted:k,ref:_,get useRouter(){return T},get library(){return b},get fas(){return C},get FontAwesomeIcon(){return f},createVNode:u,render:p};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},N=q("div",{class:"times-component"},null,-1);function $(E,h,r,l,y,d){const a=w("ClientOnly");return B(),I(a,null,{default:L(()=>[N]),_:1})}const D=S(M,[["render",$],["__file","TimesComponent.vue"]]);export{D as default};
