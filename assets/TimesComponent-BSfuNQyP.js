import{_ as S,f as _,h as k,r as w,o as B,i as I,w as L,u as T,b as u,k as p,a as q}from"./app-hCKQhxO2.js";import{l as b,i as E,F as f}from"./index.es-3z5Hx888.js";const M={__name:"TimesComponent",setup(C,{expose:y}){y(),b.add(E);const r=_(!1);function a(){const e=new Date,t=("0"+e.getHours()).slice(-2),o=("0"+e.getMinutes()).slice(-2),n=("0"+e.getSeconds()).slice(-2),s=`${t}:${o}:${n}`,i={year:"numeric",month:"long",day:"numeric",weekday:"long"},c=e.toLocaleDateString("zh-CN",i),m=document.getElementById("currentTime"),g=document.getElementById("currentDate");m&&g&&(m.innerHTML=s,g.innerHTML=c,setTimeout(a,1e3))}const h=()=>{const e=document.querySelector(".vp-blog-hero-image"),t=document.querySelector(".vp-blog-hero-title"),o=document.querySelector(".vp-blog-hero-description"),n=document.querySelector(".component-times"),s=document.querySelector(".component-button");if(r.value)e&&(e.style.display=""),t&&(t.style.display=""),o&&(o.style.display=""),s&&(s.style.display=""),n&&n.remove();else if(e&&(e.style.display="none"),t&&(t.style.display="none"),o&&(o.style.display="none"),s&&(s.style.display="none"),!n){const i=document.createElement("div");i.className="component-times",i.innerHTML=`
            <div id="currentTime"></div>
            <div id="currentDate"></div>
            <div class="hitokoto-content">
                <div class="Btn-out">
                    <div id="hitokotoBtn"></div>
                </div>
                <div class="hitokoto-out">
                    <span class="point">[ </span><span id="hitokoto"></span><span class="point"> ]</span>
                </div>
                <div class="author-content">
                    —— <span id="author"></span> ——
                </div>
            </div>
            `,document.querySelector(".vp-blog-mask").appendChild(i),a(),l();const c=document.getElementById("hitokotoBtn");c.addEventListener("click",()=>{c.classList.add("rotate"),l(),setTimeout(()=>{c.classList.remove("rotate")},500)});const m=u(f,{icon:["fas","rotate"]});p(m,c)}r.value=!r.value},l=()=>{fetch("https://tenapi.cn/v2/yiyan",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"format=json"}).then(e=>e.json()).then(e=>{if(e&&e.data){const t=document.getElementById("hitokoto"),o=document.getElementById("author");t&&o&&(t.innerHTML=e.data.hitokoto,o.innerHTML=e.data.author)}}).catch(e=>{console.error("Error fetching hitokoto:",e)})},d=()=>{const e=()=>{const o=document.querySelector(".vp-blog-mask");if(o&&!document.querySelector(".component-button1")){const n=document.createElement("div");n.className="component-button1";const s=u(f,{icon:["fas","fa-clock"]});p(s,n),n.addEventListener("click",()=>{h();const i=r.value?["fas","fa-xmark"]:["fas","fa-clock"],c=u(f,{icon:i});p(c,n)}),o.appendChild(n)}};e();const t=T();t&&typeof t.beforeEach=="function"&&t.beforeEach(()=>{setTimeout(()=>{e()},50)})};k(d);const v={isToggled:r,showTime:a,toggleElements:h,fetchHitokoto:l,insertComponentTimes:d,onMounted:k,ref:_,get useRouter(){return T},get library(){return b},get fas(){return E},get FontAwesomeIcon(){return f},createVNode:u,render:p};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}},N=q("div",{class:"times-component"},null,-1);function $(C,y,r,a,h,l){const d=w("ClientOnly");return B(),I(d,null,{default:L(()=>[N]),_:1})}const D=S(M,[["render",$],["__file","TimesComponent.vue"]]);export{D as default};
