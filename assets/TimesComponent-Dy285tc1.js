import{_ as S,f as p,h as x,r as L,o as M,i as q,w as N,u as H,b as h,k as f,a as $}from"./app-d4GCe8Lo.js";import{l as I,i as B,F as y}from"./index.es-DcIYX5yb.js";const D={__name:"TimesComponent",setup(C,{expose:k}){k(),I.add(B);const r=p(!1),a=p([]);let l=-1;function d(){const e=new Date,o=("0"+e.getHours()).slice(-2),t=("0"+e.getMinutes()).slice(-2),n=("0"+e.getSeconds()).slice(-2),s=`${o}:${t}:${n}`,c={year:"numeric",month:"long",day:"numeric",weekday:"long"},i=e.toLocaleDateString("zh-CN",c),m=document.getElementById("currentTime"),b=document.getElementById("currentDate");m&&b&&(m.innerHTML=s,b.innerHTML=i,setTimeout(d,1e3))}const u=()=>{const e=document.querySelector(".vp-blog-hero-image"),o=document.querySelector(".vp-blog-hero-title"),t=document.querySelector(".vp-blog-hero-description"),n=document.querySelector(".component-times"),s=document.querySelector(".component-button");if(r.value)e&&(e.style.display=""),o&&(o.style.display=""),t&&(t.style.display=""),s&&(s.style.display=""),n&&n.remove();else if(e&&(e.style.display="none"),o&&(o.style.display="none"),t&&(t.style.display="none"),s&&(s.style.display="none"),!n){const c=document.createElement("div");c.className="component-times",c.innerHTML=`
        <div id="currentTime"></div>
        <div id="currentDate"></div>
        <div class="hitokoto-content">
          <div class="Btn-out">
            <div id="hitokotoBtn"></div>
          </div>
          <div class="hitokoto-out">
            <span class="point">[ </span><span id="hitokoto"></span><span class="point"> ]</span>
          </div>
          <div class="author-content">
            —— <span id="author"></span> ——
          </div>
        </div>
      `,document.querySelector(".vp-blog-mask").appendChild(c),d(),v();const i=document.getElementById("hitokotoBtn");i.addEventListener("click",()=>{i.classList.add("rotate"),v(),setTimeout(()=>{i.classList.remove("rotate")},500)});const m=h(y,{icon:["fas","rotate"]});f(m,i)}r.value=!r.value},v=()=>{const e=document.getElementById("hitokoto"),o=document.getElementById("author");if(e&&o){let t;do t=Math.floor(Math.random()*a.value.length);while(t===l);const{text:n,author:s}=a.value[t];e.innerHTML=n,o.innerHTML=s,l=t}},g=()=>{const e=()=>{const t=document.querySelector(".vp-blog-mask");if(t&&!document.querySelector(".component-button1")){const n=document.createElement("div");n.className="component-button1";const s=h(y,{icon:["fas","fa-clock"]});f(s,n),n.addEventListener("click",()=>{u();const c=r.value?["fas","fa-xmark"]:["fas","fa-clock"],i=h(y,{icon:c});f(i,n)}),t.appendChild(n)}};e();const o=H();o&&typeof o.beforeEach=="function"&&o.beforeEach(()=>{setTimeout(()=>{e()},50)})},_=p([]),w=async()=>{try{const o=await(await fetch(new URL("/dadagarden.github.io/assets/%E4%B8%80%E8%A8%80-B_H4cqJ-.md",import.meta.url))).text(),t=T(o);_.value=t,a.value=[...a.value,...t]}catch(e){console.error("Error fetching markdown hitokotos:",e)}},T=e=>{const o=/<Hitokoto text="(.+?)" author="(.+?)" \/>/g,t=[];let n;for(;(n=o.exec(e))!==null;)t.push({text:n[1],author:n[2]});return t};x(()=>{g(),w()});const E={isToggled:r,hitokotoList:a,get previousHitokotoIndex(){return l},set previousHitokotoIndex(e){l=e},showTime:d,toggleElements:u,displayHitokoto:v,insertComponentTimes:g,markdownHitokotos:_,fetchMarkdownHitokotos:w,parseMarkdownHitokotos:T,onMounted:x,ref:p,get useRouter(){return H},get library(){return I},get fas(){return B},get FontAwesomeIcon(){return y},createVNode:h,render:f};return Object.defineProperty(E,"__isScriptSetup",{enumerable:!1,value:!0}),E}},V=$("div",{class:"times-component"},null,-1);function R(C,k,r,a,l,d){const u=L("ClientOnly");return M(),q(u,null,{default:N(()=>[V]),_:1})}const O=S(D,[["render",R],["__file","TimesComponent.vue"]]);export{O as default};
