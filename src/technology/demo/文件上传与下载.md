---
title: 文件上传与下载
icon: code
date: 2024-09-27
category: Demo
tags:
  - SpringBoot
  - Web开发
  - Vue3
cover: /assets/images/demo.jpg
excerpt: 开发Web应用时，文件上传是很常见的一个需求，浏览器通过表单形式将文件以流的形式传递给服务器，服务器再对上传的数据进行解析处理。下载文件通过IO流实现，所以多数框架并没有对文件下载进行封装处理。
order: "1"
---

## 文件上传

Web开发中的上传功能允许用户将文件从客户端传输到服务器，而下载功能则相反，是从服务器传输文件到客户端。

### 基础前端项目搭建

```cmd
vue create demo
```


> [!tip]
> 具体创建Vue项目参考[前端工程化Vue-cli](/technology/frontend-dev/前端框架/前端工程化Vue-cli)
> - 记得提前引入路由
> - 使用手动配置的方式

- 定义一个路由，用于导航到`文件上传`页面
- 在View文件夹中新建一个`UploadView.vue`文件

```UploadView.vue
<template>
    <div class="upload">
      <h1>文件上传页面</h1>
    </div>
</template>
```

- 在router包的`index.js`中引入上述的视图文件并定义好全局路由

```index.js
// 导入createRouter和createWebHistory函数，用于创建Vue路由实例
import { createRouter, createWebHistory } from 'vue-router'
// 导入UploadView组件，用于文件上传页面
import UploadView from '../views/UploadView.vue'

// 定义路由数组，包含一个路由对象
const routes = [
  {
    // 定义路由的路径
    path: '/upload',
    // 定义路由的名称
    name: 'upload',
    // 指定路由对应的组件
    component: UploadView
  }
]

// 使用createRouter函数创建路由实例，并传入路由数组和路由模式
const router = createRouter({
  history: createWebHistory(process.env.BASE_URL), // 使用HTML5 History模式
  routes // 传入路由数组
})

// 导出路由实例
export default router
```

- 在需要的导航页面中使用`<router-link to="/upload">文件上传</router-link>`标签进行路由跳转。

> [!tip]
> 此处我直接将文件上传页面的路由定义在App.vue中，仅做Demo演示。
> - 文件下载页面同理

![编写基本路由](./images/文件上传与下载/1.png)

- 引入`ElementPlus`的依赖，并进行全局配置，方便后续表单制作。

```cmd
pnpm install element-plus
```

- 在`main.js`中全局配置

```main.js
//引入ElementPlus
import ElementPlus from 'element-plus'
import 'element-plus/dist/index.css'
//引入中文语言包
import zhCn from 'element-plus/es/locale/lang/zh-cn'

//全局挂载
createApp(App).use(ElementPlus, { locale: zhCn }).use(store).use(router).mount('#app')
```

### 基础后端项目搭建


### 1. 编写文件上传的表单页面



## 文件下载

下载文件通过IO流实现，所以多数框架并没有对文件下载进行封装处理。